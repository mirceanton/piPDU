---
include:
  - '.gitlab/templates/rules.gitlab-ci.yml'
  - '.gitlab/templates/lint.gitlab-ci.yml'
  - '.gitlab/templates/test.gitlab-ci.yml'
  - '.gitlab/templates/docker.gitlab-ci.yml'

api-server/flake8:
  extends:
    - .flake8
    - .mr-job
  variables:
    CI_SERVICE_REPO: services/api-server

api-server/pytest:
  extends:
    - .pytest
    - .mr-job
  variables:
    CI_SERVICE_REPO: services/api-server

api-server/docker-build-mr:
  extends:
    - .docker
    - .mr-job
  variables:
    CI_SERVICE_REPO: services/api-server
    IMAGE_NAME: pipdu-api-server

api-server/docker-build-release:
  extends:
    - .docker
    - .release-job
  variables:
    CI_SERVICE_REPO: services/api-server
    IMAGE_NAME: pipdu-api-server
